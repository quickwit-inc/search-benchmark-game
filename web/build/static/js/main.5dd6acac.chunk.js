(this["webpackJsonpsearch-benchmark"]=this["webpackJsonpsearch-benchmark"]||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(4),l=n(5),i=n(8),o=n(7),u=n(0),c=n.n(u),s=n(2),m=n.n(s),d=n(6),v=n.n(d);n(14),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function h(e){e=e.toString();for(var t=/(-?\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return e}function f(e){if(0===e.duration.length)return{query:e.query,className:"unsupported",unsupported:!0};var t,n={median:(t=e.duration)[t.length/2|0],mean:t.reduce((function(e,t){return e+t}),0)/t.length,min:t[0],max:t[t.length-1]};return n.count=e.count,n.query=e.query,n}function p(e,t,n,a){return c.a.createElement("tr",{className:n+"-row"},c.a.createElement("td",null,t),Object.entries(e).map((function(e){var t=e[0],n=e[1];return void 0!==n?c.a.createElement("td",{key:"result-"+t},h(n[a])," \u03bcs"):c.a.createElement("td",{key:"result-"+t},"Some Unsupported Queries")})))}var g=function(e){Object(i.a)(n,e);var t=Object(o.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={mode:"TOP_100",tag:null},a}return Object(l.a)(n,[{key:"handleChangeMode",value:function(e){this.setState({mode:e.target.value})}},{key:"handleChangeTag",value:function(e){var t=e.target.value;"ALL"===t?this.setState({tag:void 0}):this.setState({tag:t})}},{key:"filterQueries",value:function(e){var t=this.state.tag;return void 0!==t?e.filter((function(e){return e.tags.indexOf(t)>=0})):e}},{key:"generateDataView",value:function(){var e={},t={},n=this.props.data[this.state.mode];for(var r in n){var l=n[r];l=(l=Array.from(this.filterQueries(l))).map(f);var i,o=0,u=0,c=0,s=0,m=!1,d=[],v=Object(a.a)(l);try{for(v.s();!(i=v.n()).done;){var h=i.value;h.unsupported?m=!0:(o+=h.min,d.push(h.min))}}catch(F){v.e(F)}finally{v.f()}m?(o=void 0,u=void 0,c=void 0,s=void 0):(o=o/l.length|0,0!==d.length&&(d.sort((function(e,t){return e-t})),u=d[Math.round(.5*(d.length-1))],c=d[Math.round(.9*(d.length-1))],s=d[Math.round(.99*(d.length-1))])),e[r]=m?void 0:{average:o,p50:u,p90:c,p99:s};var p,g=Object(a.a)(l);try{for(g.s();!(p=g.n()).done;){var y=p.value,E={};void 0!==t[y.query]&&(E=t[y.query]),E[r]=y,t[y.query]=E}}catch(F){g.e(F)}finally{g.f()}}for(var b in t){var k=t[b],O=null,j=0,w=null,N=0;for(var q in k){var C=k[q];C.unsupported||((null==O||C.min<j)&&(O=q,j=C.min),(null==w||C.min>N)&&(w=q,N=C.min))}for(var S in k){var A=k[S];A.unsupported||S!==O&&(A.variation=(A.min-j)/j)}null!=O&&(k[O].className="fastest",k[w].className="slowest")}return{engines:e,queries:t}}},{key:"render",value:function(){var e=this,t=this.generateDataView();return c.a.createElement("div",null,c.a.createElement("form",null,c.a.createElement("fieldset",null,c.a.createElement("label",{htmlFor:"collectionField"},"Collection type"),c.a.createElement("select",{id:"collectionField",onChange:function(t){return e.handleChangeMode(t)}},this.props.modes.map((function(e){return c.a.createElement("option",{value:e,key:e},e)}))),c.a.createElement("label",{htmlFor:"queryTagField"},"Type of Query"),c.a.createElement("select",{id:"queryTagField",onChange:function(t){return e.handleChangeTag(t)}},c.a.createElement("option",{value:"ALL",key:"all"},"ALL"),this.props.tags.map((function(e){return c.a.createElement("option",{value:e,key:e},e)}))))),c.a.createElement("hr",null),c.a.createElement("table",null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Query"),Object.keys(t.engines).map((function(e){return c.a.createElement("th",{key:"col-"+e},e)})))),c.a.createElement("tbody",null,p(t.engines,"AVERAGE","average","average"),p(t.engines,"P50","percentile","p50"),p(t.engines,"P90","percentile","p90"),p(t.engines,"P99","percentile","p99"),Object.entries(t.queries).map((function(e){var n=e[0],a=e[1];return c.a.createElement("tr",null,c.a.createElement("td",null,n),Object.keys(t.engines).map((function(e){var t,n=a[e];return n.unsupported?c.a.createElement("td",{className:"data "+n.className}):c.a.createElement("td",{className:"data "+n.className},c.a.createElement("div",{className:"timing"},h(n.min),"  \u03bcs"),c.a.createElement("div",{className:"timing-variation"},void 0!==(t=n.variation)?"+"+(100*t).toFixed(1)+" %":""),c.a.createElement("div",{className:"count"},h(n.count)," docs"))})))})))))}}]),n}(c.a.Component);m()((function(){m.a.getJSON("/results.json",(function(e){var t=[],n=[],r=new Set;for(var l in e)t.push(l);for(var i in e[t[0]])n.push(i);var o,u=Object(a.a)(e[t[0]][n[0]]);try{for(u.s();!(o=u.n()).done;){var s,m=o.value,d=Object(a.a)(m.tags);try{for(d.s();!(s=d.n()).done;){var h=s.value;r.add(h)}}catch(y){d.e(y)}finally{d.f()}}}catch(y){u.e(y)}finally{u.f()}var f=Array.from(r);f.sort();var p=document.getElementById("app-container");v.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,{data:e,tags:f,modes:t,engines:n})),p)}))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,n){e.exports=n(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.5dd6acac.chunk.js.map